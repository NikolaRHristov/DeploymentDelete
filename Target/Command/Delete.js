import t from"../Library/Environment.js";const n=7,s=40,e={"content-type":"application/json;charset=UTF-8","X-Auth-Email":t.ACCOUNT_EMAIL,"X-Auth-Key":t.API_KEY},i=async()=>await(await fetch(`https://api.cloudflare.com/client/v4/accounts/${t.ACCOUNT_ID}/pages/projects`,{headers:e})).json(),p=async o=>await(await fetch(`https://api.cloudflare.com/client/v4/accounts/${t.ACCOUNT_ID}/pages/projects/${o}/deployments`,{headers:e})).json(),r=async(o,l,m)=>{for(const a of await i())for(const c of await p(a.name).splice(0,s))(Date.now()-new Date(c.created_on))/864e5>n&&await fetch(`${`https://api.cloudflare.com/client/v4/accounts/${t.ACCOUNT_ID}/pages/projects/${a}/deployments`}/${c.id}`,{method:"DELETE",headers:e})};var d=r;export{d as default};
