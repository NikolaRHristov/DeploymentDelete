const{default:p}=await import("../Variable/Environment.js");var u=async({Email:a,Key:o,ID:e}=p.parse(process.env))=>{const t={"content-type":"application/json;charset=UTF-8","X-Auth-Email":a,"X-Auth-Key":o};t["X-Auth-Email"]=a??t["X-Auth-Email"],t["X-Auth-Key"]=o??t["X-Auth-Key"];const r=[];for(const{name:n}of await(await import("./Project.js")).default(e,t)??[])for(const{id:c,created_on:i}of(await(async s=>(await(await import("./Deployment.js")).default(e,s,t)).splice(0,500)??[])(n)).reverse())if((Date.now()-new Date(i))/864e5>7){try{await fetch(`${`https://api.cloudflare.com/client/v4/accounts/${e}/pages/projects/${n}/deployments`}/${c}`,{method:"DELETE",headers:t})}catch{}r.push(c)}return r};export{p as Environment,u as default};
